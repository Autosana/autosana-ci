name: "Integration: Run Flows (Staging)"

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  run-flows:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Run test flows with Autosana (staging)
        uses: ./
        with:
          api-key: ${{ secrets.AUTOSANA_STAGING_KEY }}
          api-url: https://staging.autosana.ai
          platform: web
          name: The Internet
          app-id: the-internet
          url: https://the-internet.herokuapp.com/
          flow-ids: "9ae9c810-631f-472e-ba7d-9ca3b9f6820c,feeec631-bed1-43fe-ac16-ed65e4b9bd19"
