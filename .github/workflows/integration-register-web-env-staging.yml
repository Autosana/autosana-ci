name: "Integration: Register Web with Environment (Staging)"

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  register:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Register with Autosana (staging, environment param)
        uses: ./
        with:
          api-key: ${{ secrets.AUTOSANA_STAGING_KEY }}
          api-url: https://staging.autosana.ai
          platform: web
          name: The Internet
          app-id: the-internet
          url: https://the-internet.herokuapp.com/
          environment: staging
